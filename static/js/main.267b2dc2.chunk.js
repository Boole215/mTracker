(this.webpackJsonpmtracker=this.webpackJsonpmtracker||[]).push([[0],{119:function(e,t,a){"use strict";(function(e){var a={apiUrl:"https://api.mangadex.org/",proxyUrl:"https://jshoukai.com/api",projectRoot:e};t.a=a}).call(this,"/")},144:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=(a(144),a(12)),s=a(114),d=a(83),l=a(29),u=a(18),h=a(50),p=a(21),f=a.n(p),b=a(60),m=a(40),j=a(115),g=a(116),v=a(117),O=a.n(v),y=a(118),x=a.n(y),w=a(119),C=new(function(){function e(){Object(j.a)(this,e),this.axiosInst=O.a.create({baseURL:w.a.proxyUrl}),this.api=x()(this.axiosInst,{maxRPS:5})}return Object(g.a)(e,[{key:"fetchAllManga",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("/manga/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMangaById",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("/manga/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchChapter",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("/manga/".concat(t,"/feed?translatedLanguage[]=en&order[chapter]=desc"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCover",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("/cover/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}());function I(e){var t=2-.00976*(e-17);return Math.min(Math.max(t,1.6),2)}var k,N=a.p+"static/media/favicon.4fe75d5f.ico",F=Object(l.b)("feedcard/fetchManga",function(){var e=Object(m.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.fetchMangaById(t);case 2:return a=e.sent,e.next=5,C.fetchChapter(t);case 5:return n=e.sent,e.next=8,C.fetchCover(a.relationships[2].id);case 8:return r=e.sent,a.data.coverURL="https://uploads.mangadex.org/covers/".concat(a.data.id,"/").concat(r.data.attributes.fileName,".512.jpg"),a.data.chapterList=n.results,a.data.chapterList=a.data.chapterList.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{highlight:!1})})),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(l.b)("feedcard/updateChapterList",function(){var e=Object(m.a)(f.a.mark((function e(t,a){var n,r,i,o,c,s,d,l,u,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState,r=n(),i=r.FeedCard.cards[t].mostRecentChapter,o=r.FeedCard.cards[t].seriesTitle,e.next=6,C.fetchChapter(t);case 6:return c=e.sent,s=c.results.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{highlight:!1})})),null!=(d=0!==c.results.length?c.results[0].data.attributes.chapter:null)&&d!==i&&(l=s[0].data.attributes.title,console.log("Sending notification"),u="New Chapter for ".concat(o,"!"),h="Chapter ".concat(d,", ").concat(l),new Notification(u,{body:h,myIcon:N}),console.log("Notification sent")),e.abrupt("return",{seriesId:t,chapterList:s,latest:d});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(l.c)({name:"feedcard",initialState:{cards:{},cardCount:0,loading:!1},reducers:{mouseInside:function(e,t){e.cards[t.payload].showInfo=!0},mouseOutside:function(e,t){e.cards[t.payload].showInfo=!1},mouseOverChapter:function(e,t){e.cards[t.payload.seriesID].chapters[t.payload.chapterID].highlight=!0},mouseNoLongerOverChapter:function(e,t){e.cards[t.payload.seriesID].chapters[t.payload.chapterID].highlight=!1}},extraReducers:(k={},Object(h.a)(k,F.fulfilled,(function(e,t){e.cards[t.payload.data.id]={seriesTitle:t.payload.data.attributes.title.en,coverLoc:t.payload.data.coverURL,seriesDesc:t.payload.data.attributes.description.en,chapters:t.payload.data.chapterList,mostRecentChapter:0!==t.payload.data.chapterList.length?t.payload.data.chapterList[0].data.attributes.chapter:null,titleSize:I(t.payload.data.attributes.title.en.length)},e.cardCount+=1})),Object(h.a)(k,F.rejected,(function(e,t){console.log("series failed")})),Object(h.a)(k,T.fulfilled,(function(e,t){e.cards[t.payload.seriesId].chapters=t.payload.chapterList,e.cards[t.payload.seriesId].mostRecentChapter=t.payload.latest})),k)}),D=L.actions,S=D.mouseInside,R=D.mouseOutside,z=D.mouseOverChapter,W=D.mouseNoLongerOverChapter,B=L.reducer,A=Object(l.c)({name:"addCard",initialState:{addingFeed:!1},reducers:{openAddDialogue:function(e){e.addingFeed=!0},closeAddDialogue:function(e){e.addingFeed=!1}}}),M=A.actions,P=M.openAddDialogue,U=M.closeAddDialogue,E=A.reducer,H=Object(l.c)({name:"AddDialogue",initialState:{dialogueField:""},reducers:{updateField:function(e,t){e.dialogueField=t.payload}}}),J=H.actions.updateField,q=H.reducer,G=a(120),$=a.n(G),K=Object(u.b)({FeedCard:B,AddCard:E,addDialogue:q}),Q={key:"root",storage:$.a,whitelist:["FeedCard"]},V=Object(d.a)(Q,K),X=Object(l.a)({reducer:V}),Y=a(125),Z=a.n(Y),_=a(220),ee=a(42),te=a.n(ee),ae=a(7),ne=te()({addPos:{position:"fixed",bottom:"1vw",left:"95vw",marginRight:10,marginBottom:10}});function re(){var e=Object(c.b)(),t=ne();return Object(ae.jsx)(_.a,{size:"medium",color:"black",onClick:function(){e(P())},className:t.addPos,children:Object(ae.jsx)(Z.a,{fontSize:"large"})})}var ie=a(221),oe=a(238),ce=a(61),se=a(127),de=a.n(se),le=Object(ie.a)({myTypography:{fontFamily:"Roboto",fontSize:"1.3vh"},mySubTypography:{fontFamily:"Roboto",fontSize:"1.0vh"},myTooltip:{bottom:".215vh",left:"-.5vw"}});function ue(){var e=le();return Object(ae.jsx)(oe.a,{className:e.myTooltip,title:Object(ae.jsxs)(r.a.Fragment,{children:[Object(ae.jsx)(ce.a,{className:e.myTypography,children:"What series ID?"}),Object(ae.jsxs)(ce.a,{className:e.mySubTypography,children:["A Series' ID can be found in the URL of a Mangadex series page after '/title/'.",Object(ae.jsx)("br",{}),"For example, Ijiranaide Nagatoro's ID is: ",Object(ae.jsx)("br",{}),"d86cf65b-5f6c-437d-a0af-19a31f94ec55"]})]}),placement:"top",children:Object(ae.jsx)(_.a,{"aria-label":"help-tooltip",children:Object(ae.jsx)(de.a,{fontSize:"small"})})})}var he=a(224),pe=a(199),fe=a(236),be=a(226),me=a(128),je=a.n(me),ge=Object(ie.a)({font:{fontFamily:"Roboto",color:"black"},addDia:{position:"absolute",left:"40vw",top:"40vh",padding:10,zIndex:4},exit:{position:"absolute",marginLeft:"80%",top:0},addButton:{marginTop:"2.5%"}});function ve(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.AddCard.addingFeed})),a=Object(c.c)((function(e){return e.addDialogue.dialogueField})),n=ge();return Object(ae.jsx)(he.a,{in:t,children:Object(ae.jsxs)(pe.a,{elevation:12,className:n.addDia,children:[Object(ae.jsx)(_.a,{size:"medium",onClick:function(){return e(U())},className:n.exit,children:Object(ae.jsx)(je.a,{fontSize:"medium"})}),Object(ae.jsxs)(ce.a,{className:n.font,children:["What is the series' ID? ",Object(ae.jsx)(ue,{})]}),Object(ae.jsxs)("form",{autoComplete:"off",children:[Object(ae.jsx)(fe.a,{onChange:function(t){return e(J(t.target.value))},valueid:"inputID",variant:"outlined",label:"Series ID"}),Object(ae.jsx)(be.a,{variant:"contained",onClick:function(){return e(F(a))},className:n.addButton,children:"Add it!"})]})]})})}var Oe=a(227),ye=a(228),xe=a(229),we=Object(ie.a)({myListItem:{paddingLeft:"1.5vw",marginTop:"-15px",marginBottom:"0vh",marginRight:"-1.25vw"},chapterEntry:{fontFamily:"Roboto",fontSize:"1.1vh",color:"White"},myTypography:{fontSize:".9vh",color:"White",fontFamily:"Roboto","&:hover":{color:"#7393B3!important"}},highlight:{color:"#7393B3!important"}});function Ce(e){var t=e.chapterTitle,a=e.chapterNum,n=e.chapterID,r=e.seriesID,i=e.iter,o=we(),s=Object(c.b)(),d={seriesID:r,chapterID:i},l=Object(c.c)((function(e){return e.FeedCard.cards[r].chapters[i].highlight}));return Object(ae.jsx)(Oe.a,{underline:"None",href:"https://mangadex.org/chapter/".concat(n,"/1"),TypographyClasses:o.myTypography,onMouseEnter:function(){s(z(d))},onMouseLeave:function(){s(W(d))},children:Object(ae.jsx)(ye.a,{className:o.myListItem,children:Object(ae.jsx)(xe.a,{primaryTypographyProps:{className:"".concat(o.myTypography," ").concat(l?o.highlight:"")},secondaryTypographyProps:{className:"".concat(o.myTypography," ").concat(l?o.highlight:"")},primary:"Chapter ".concat(a),secondary:t})})})}var Ie=a(230),ke=a(231),Ne=a(232),Fe=a(225),Te=a(233),Le=a(234),De=te()({root:{position:"relative",width:"15vw",height:"40vh",maxWidth:"20vw",maxHeight:"53.33vh",objectFit:"fill",MuiButtonBase:{disableRipple:!0}},media:{minWidth:"15vw",minHeight:"40vh",maxWidth:"20vw",maxHeight:"53.33vh",objectFit:"fill"},blurImg:{filter:"blur(3px) brightness(50%)"},seriesTitle:{paddingLeft:"3.25vw",paddingTop:"4vh",paddingRight:"2.5vw",position:"absolute",fontSize:"2vh",color:"white",fontFamily:"Roboto",zIndex:1},myList:{zIndex:1,position:"absolute",background:"none",paddingTop:"13vh",paddingLeft:"3vw"},listHeader:{color:"White",fontFamily:"Roboto",fontSize:"1.5vh"}});function Se(e){var t=e.id,a=Object(c.b)(),n=Object(c.c)((function(e){return e.FeedCard.cards[t].seriesTitle})),r=Object(c.c)((function(e){return e.FeedCard.cards[t].coverLoc})),i=Object(c.c)((function(e){return e.FeedCard.cards[t].titleSize})),o=0,s=De(),d=te()({dynamicTitle:{fontSize:"".concat(i,"vh!important")}})(),l=Object(c.c)((function(e){return e.FeedCard.cards[t].showInfo?s.blurImg:null})),u=Object(c.c)((function(e){return e.FeedCard.cards[t].chapters}));return Object(ae.jsx)(Ie.a,{item:!0,xs:2,children:Object(ae.jsx)(he.a,{in:!0,timeout:{enter:600},children:Object(ae.jsx)(ke.a,{elevation:6,className:s.root,children:Object(ae.jsx)(Ne.a,{disableRipple:!0,children:Object(ae.jsxs)("div",{onMouseEnter:function(){return a(S(t))},onMouseLeave:function(){return a(R(t))},children:[l?Object(ae.jsxs)("div",{children:[Object(ae.jsx)(ce.a,{gutterBottom:!0,className:"".concat(s.seriesTitle," ").concat(d.dynamicTitle),variant:"h5",component:"h5",children:n}),Object(ae.jsx)(Fe.a,{className:s.myList,dense:!0,disablePadding:!0,subheader:Object(ae.jsx)(Te.a,{component:"div",id:"nested-list-subheader",className:"".concat(s.listHeader," "),children:"Chapters"}),children:Object.keys(u).slice(0,5).map((function(e){return Object(ae.jsx)(Ce,{chapterTitle:u[e].data.attributes.title,chapterNum:u[e].data.attributes.chapter,chapterID:u[e].data.id,seriesID:t,iter:o++})}))})]}):null,Object(ae.jsx)(Le.a,{component:"img",image:r,title:"Cover Image",className:"".concat(s.media," ").concat(l?s.blurImg:null)})]})})})})})}function Re(){return Object.keys(Object(c.c)((function(e){return e.FeedCard.cards}))).map((function(e){return Object(ae.jsx)(Se,{id:e})}))}var ze=a(235),We=te()({loading:{position:"absolute",left:"45vw",top:"45vh",padding:10,zIndex:4}});function Be(){var e=We();return Object(ae.jsx)(ze.a,{className:e.loading})}var Ae=a(129),Me=a.n(Ae),Pe=Object(ie.a)({updatePos:{position:"fixed",top:"1vw",left:"95vw",marginRight:10,marginTop:10,zIndex:10}});function Ue(){var e=Object(c.b)(),t=Object.keys(Object(c.c)((function(e){return e.FeedCard.cards}))),a=Pe();return Object(ae.jsx)(_.a,{size:"medium",color:"black",className:a.updatePos,onClick:function(){t.forEach((function(t){return e(T(t))}))},children:Object(ae.jsx)(Me.a,{})})}var Ee=a(237);a(193);var He=function(){var e=Object(d.b)(X);return Object(ae.jsx)(c.a,{store:X,children:Object(ae.jsxs)(s.a,{loading:Object(ae.jsx)(Be,{}),persistor:e,children:[Object(ae.jsx)(ve,{}),Object(ae.jsxs)(Ee.a,{m:"15px",height:"100%",children:[Object(ae.jsx)(Ie.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:Object(ae.jsx)(Re,{})}),Object(ae.jsx)(re,{}),Object(ae.jsx)(Ue,{})]})]})})},Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(ae.jsx)(He,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mTracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/mTracker","/service-worker.js");Je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):qe(t,e)}))}}(),"Notification"in window?"granted"===Notification.permission||Notification.requestPermission().then((function(e){console.log("Given the following permission",e),"granted"!==e&&alert("Enable notifications if you'd like to be notified when a new chapter comes out!")})):alert("This Browser does not support desktop notifications")}},[[194,1,2]]]);
//# sourceMappingURL=main.267b2dc2.chunk.js.map